Module Transition Test Debug Log
==================================================
Test run: 2025-06-21T09:05:24.710871

[09:05:16] [INFO] === SETTING UP TEST ENVIRONMENT ===
[09:05:16] [INFO] Changed working directory to: /mnt/c/dungeon_master_v1/test_data
[09:05:16] [INFO] âœ“ Found: conversation_history.json
[09:05:16] [INFO] âœ“ Found: party_tracker.json
[09:05:16] [INFO] âœ“ Found: world_registry.json
[09:05:16] [INFO] âœ“ Found: campaign.json
[09:05:16] [INFO] âœ“ Found: modules/Keep_of_Doom
[09:05:16] [INFO] âœ“ Found: modules/Silver_Vein_Whispers
[09:05:16] [INFO] ============================================================
[09:05:16] [INFO] STARTING MODULE TRANSITION TEST
[09:05:16] [INFO] ============================================================
[09:05:16] [INFO] === LOADING TEST DATA ===
[09:05:16] [INFO] Loaded conversation history: 10 messages
[09:05:16] [INFO] Last message: e. Player: Let's go!...
[09:05:16] [INFO] Party tracker loaded: Silver_Vein_Whispers/SR001/R01
[09:05:16] [INFO] World registry loaded: 2 modules
[09:05:16] [INFO] === GENERATING AI RESPONSE ===
[09:05:16] [INFO] Sending request to OpenAI...
[09:05:24] [INFO] AI Response received: 1779 characters
[09:05:24] [INFO] âœ“ AI response is valid JSON
[09:05:24] [INFO] Actions found: 2
[09:05:24] [INFO]   Action 1: updatePartyTracker
[09:05:24] [INFO]     â†’ Target: Silver_Vein_Whispers/SR001/R01
[09:05:24] [INFO]   Action 2: updateTime
[09:05:24] [INFO] === PROCESSING ACTIONS ===
[09:05:24] [INFO] Processing action 1: updatePartyTracker
[09:05:24] [INFO] âœ“ Action updatePartyTracker processed successfully
[09:05:24] [INFO] Processing action 2: updateTime
[09:05:24] [INFO] âœ“ Action updateTime processed successfully
[09:05:24] [INFO] === VERIFYING COMPLETE MODULE TRANSITION ===
[09:05:24] [INFO] --- Checking Party Tracker Updates ---
[09:05:24] [INFO] Updated party tracker: Silver_Vein_Whispers/SR001/R01
[09:05:24] [INFO] âœ“ Module changed to Silver_Vein_Whispers
[09:05:24] [INFO] âœ“ Area changed to SR001
[09:05:24] [INFO] âœ“ Location changed to R01
[09:05:24] [INFO] --- Checking Travel Narration Injection ---
[09:05:24] [INFO] âœ“ Travel narration injected into conversation history
[09:05:24] [INFO] Travel message preview: These are Ashiralis's Sowhains' game rules for the most excellent Dungeon Master:

You are a world-c...
[09:05:24] [INFO] --- Checking Module Summary Generation ---
[09:05:24] [INFO] âœ“ Module summary files found: 1 summaries
[09:05:24] [INFO] âœ“ Latest summary contains: Keep_of_Doom
[09:05:24] [INFO] --- Checking Conversation Archiving ---
[09:05:24] [INFO] âœ“ Conversation archive files found: 1 archives
[09:05:24] [INFO] --- Checking Campaign State Updates ---
[09:05:24] [INFO] âœ“ Keep_of_Doom marked as completed in campaign.json
[09:05:24] [INFO] === TESTING TRAVEL NARRATION ===
[09:05:24] [INFO] âœ“ Travel narration retrieved successfully
[09:05:24] [INFO] Narration preview: Leaving familiar lands behind, the party journeys across bleak highlands and wind-swept moors, where...
[09:05:24] [INFO] === TESTING STARTING LOCATION DETECTION ===
[09:05:24] [INFO] âœ“ Location ID is R01
[09:05:24] [INFO] âœ“ Area ID is SR001
[09:05:24] [INFO] âœ“ Location name contains 'Riverside'
[09:05:24] [INFO] âœ“ Area name contains 'Sablemoor'
[09:05:24] [INFO] Detected starting location: Riverside R01 [R01] in Sablemoor Reaches [SR001]
[09:05:24] [INFO] === TESTING FILE SYSTEM INTEGRITY ===
[09:05:24] [INFO] âœ“ SR001 area file found: modules/Silver_Vein_Whispers/areas/SR001.json
[09:05:24] [INFO] âœ“ HH001 correctly not found in Silver_Vein_Whispers
[09:05:24] [INFO] === CLEANING UP ===
[09:05:24] [INFO] Returned to original directory: /mnt/c/dungeon_master_v1
[09:05:24] [INFO] ============================================================
[09:05:24] [INFO] TEST RESULTS SUMMARY
[09:05:24] [INFO] ============================================================
[09:05:24] [INFO] âœ“ data_loading: PASSED
[09:05:24] [INFO] âœ“ ai_response: PASSED
[09:05:24] [INFO] âœ“ action_processing: PASSED
[09:05:24] [INFO] âœ“ transition_verification: PASSED
[09:05:24] [INFO] âœ“ travel_narration: PASSED
[09:05:24] [INFO] âœ“ starting_location: PASSED
[09:05:24] [INFO] âœ“ file_system: PASSED
[09:05:24] [INFO] 
OVERALL: 7/7 tests passed
[09:05:24] [INFO] ðŸŽ‰ ALL TESTS PASSED! Module transition system is working correctly.
